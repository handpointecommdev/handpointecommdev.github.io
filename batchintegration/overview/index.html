<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-batchintegration docs-doc-id-overview">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Overview | Handpoint</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://developer-ecomm.handpoint.io/batchintegration/overview"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-batchintegration-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-batchintegration-current"><meta data-rh="true" property="og:title" content="Overview | Handpoint"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://developer-ecomm.handpoint.io/batchintegration/overview"><link data-rh="true" rel="alternate" href="https://developer-ecomm.handpoint.io/batchintegration/overview" hreflang="en"><link data-rh="true" rel="alternate" href="https://developer-ecomm.handpoint.io/batchintegration/overview" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RNDFP191TE"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RNDFP191TE",{anonymize_ip:!0})</script>









<script src="https:////js-eu1.hs-scripts.com/25846579.js"></script><link rel="stylesheet" href="/assets/css/styles.423f145a.css">
<link rel="preload" href="/assets/js/runtime~main.24b336bb.js" as="script">
<link rel="preload" href="/assets/js/main.9ad102f5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://developer.handpoint.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/handpoint-logo-hvitt.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA" width="75"><img src="/img/handpoint-logo-hvitt.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU" width="75"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/cnpdocs">Getting Started</a><a class="navbar__item navbar__link" href="/docs/overview">Hosted Payment Page</a><a class="navbar__item navbar__link" href="/hostedpaymentfields/overview">Hosted Payment Fields</a><a class="navbar__item navbar__link" href="/directintegration/overview">Direct Integration</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/batchintegration/overview">Batch Integration</a><a class="navbar__item navbar__link" href="/paybutton/basicpaybutton">Pay By Link</a><a class="navbar__item navbar__link" href="/shoppingcarts/shoppingcarts">Shopping Carts</a><a class="navbar__item navbar__link" href="/mobilesdks/mobilesdks">Mobile SDKs</a></div><div class="navbar__items navbar__items--right"><a href="https://status.handpoint.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-statuspage-icon" aria-label="Status Page"></a><a href="https://github.com/handpoint" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/batchintegration/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/batchintegration/samplecode">Sample Code &amp; Examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/batchintegration/transactiontypes">Transaction Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/batchintegration/credentialsonfile">Credentials on file &amp; Recurring Transactions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/batchintegration/advancedfunctionalities">Advanced Gateway Functionalities</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/batchintegration/advanceddata">Extra Transaction Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/batchintegration/annexes">Annexes</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Overview</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Overview</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">​</a></h2><p>The Batch Integration is an enhancement to the Direct Integration, allowing you to send multiple transactions in a single request and monitor their status. This is useful if you wish to capture multiple transactions or collect multiple payments – for example, collecting subscription charges or loan repayments.
In addition to basic sales processing, the Batch Integration can be used to perform other actions, such as refunds and cancellations, which can provide a more advanced integration with our Gateway.</p><p>Unlike the Hosted and Direct Integrations, the Batch Integration does not process transactions sent to it immediately. Instead, the Gateway queues these transactions to be processed and returns a batch reference number which can be used to download a file that contains the current status of the transactions.</p><p><strong>Batch Processing does not support transactions that require Customer interaction such as 3-D Secure transactions, or alternative payment methods with interactive Wallet or Checkout pages (PayPal, Amazon Pay etc.). It is also important to note that the Gateway does not support Dynamic Currency Conversion (DCC) with the batch integration method.</strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="security-and-compliance">Security and Compliance<a class="hash-link" href="#security-and-compliance" title="Direct link to heading">​</a></h2><p>If you use  Hosted Payment Fields with the  Batch Integrations, then your webserver does not need an SSL certificate and you require the lowest level of PCI DSS compliance.</p><p>If your website collects and/or stores sensitive Cardholder data, such as the card number (PAN) or card security code (CVV/CV2), then your webserver must have an SSL certificate and serve all payment forms using HTTPS. You will also need a higher level of PCI DSS compliance and complete a PCI validation form annually. </p><p>The Gateway will make transaction details available for a maximum period of 13 months. Your acquirer may hold information for a different period of time.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="authentication">Authentication<a class="hash-link" href="#authentication" title="Direct link to heading">​</a></h2><p>You will need the following information to integrate with the Gateway which will be provided during onboarding:</p><table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>Merchant Account ID</td><td>Your unique Merchant Account ID.</td></tr><tr><td>Batch Integration URL</td><td>Your unique URL to use the Batch Integration.</td></tr></tbody></table><p> You will be provided with unique production and test Merchant Account IDs during the onboarding process. You will also be provided with the integration URL. </p><p>All requests must specify which merchant account they are for, using the merchantID request field. In addition to this, the following security measures can be used:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="password-authentication">Password authentication<a class="hash-link" href="#password-authentication" title="Direct link to heading">​</a></h3><p>A password can be configured for each Merchant Account. This password must then be sent in the merchantPwd field in each request. If an incorrect password is received by the Gateway, then the transaction will be aborted and an error response is returned.</p><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>Use of a password is discouraged in any integration where the transaction is posted from a form in the client browser as the password may appear in plain text in code.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="message-signing">Message signing<a class="hash-link" href="#message-signing" title="Direct link to heading">​</a></h3><p>A signing secret phrase can be configured for each merchant account. When configured, each request will need to be ‘signed’ by providing a signature field containing a hash generated from the combination of the serialised request and this signing secret phrase. On receipt, the Gateway will then re-generate the hash and compare it with the one sent. If the two hashes are different then the request received must not be the same as that sent and so the contents must have been tampered with and the transaction will be aborted and an error response is returned.</p><p>The Gateway will also return the hash of the response message in the returned signature field, allowing you to create your own hash of the response (minus the signature field) and verify that the hashes match. The data POSTed to any callback URL will also be signed. See <a href="/batchintegration/samplecode#signatureCalculation">signature calculation</a> for information on how to create the hash.</p><p><strong>Message signing maybe mandatory on some Merchant Accounts</strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="allowed-ip-addresses">Allowed IP addresses<a class="hash-link" href="#allowed-ip-addresses" title="Direct link to heading">​</a></h2><p>You can configure a list of allowed IP addresses. Two different address lists can be configured, one for standard requests, such as sales; and one for advanced requests, such as refunds and cancellations. If a request is received from an address other than those configured, then it will be aborted and an error response is returned.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="http-requests">HTTP Requests<a class="hash-link" href="#http-requests" title="Direct link to heading">​</a></h2><p>A request can be sent to the Gateway by submitting a HTTP POST request to the integration URL provided.</p><p>The request should have a <code>Content-Type: application/x-www-form-urlencoded</code> HTTP header and the request should be name, value pairs URL encoded as per RFC 1738.
Complex fields consisting of single or multidimensional records or arrays must be formatted as per the <a href="https://www.php.net/manual/en/function.http-build-query.php" target="_blank" rel="noopener noreferrer">PHP http_build_query method</a> using square brackets to represent multiple dimensions. The sub-field names must be numeric or alphanumeric only, alphanumeric fields must not start with a numeric. Any square brackets around the nested field names should be URL encoded, <!-- -->[ as %5B and ]<!-- --> as %5D.</p><p>The following example request contains a complex items field consisting of an array of records representing the following table of purchased items.</p><table><thead><tr><th>Description</th><th>Quantity</th><th>Amount</th></tr></thead><tbody><tr><td>Newspaper</td><td>1</td><td>110</td></tr><tr><td>Chocolate bar</td><td>3</td><td>249</td></tr><tr><td>Carrier bag</td><td>1</td><td>10</td></tr></tbody></table><p>For example, a request would be URL encoded as:
merchantID=100001&amp;action=SALE&amp;type=1&amp;amount=1001<!-- -->¤<!-- -->cyCode=826&amp;countryCode=826&amp;transactionUnique=55f6db1c81d95&amp;orderRef=Test+purchase&amp;customerPostCode=NN17+8YG&amp;responseCode=0&amp;responseMessage=AUTHCODE%3A350333&amp;state=captured&amp;xref=15091702MG47WN32MM88LPK&amp;cardNumber=4929+4212+3460+0821&amp;cardExpiryDate=1215&amp;items%5B0%5D%5Bdescription%5D=Newspaper&amp;items%5B0%5D%5Bquantity%5D=1&amp;items%5B0%5D%5Bamount%5D=110&amp;items%5B1%5D%5Bdescription%5D=Chocolate+bar&amp;items%5B1%5D%5Bquantity%5D=3&amp;items%5B1%5D%5Bamount%5D=249&amp;items%5B2%5D%5Bdescription%5D=Carrier+bag&amp;items%5B2%5D%5Bquantity%5D=1&amp;items%5B2%5D%5Bamount%5D=1</p><p><strong>Please note that the field and sub-field names must be alphanumeric only and are cAsE sEnSiTiVe. Root integration fields must be numeric only and alphanumeric fields must not start with a numeric.</strong> </p><p>The response will use the same URL encoding and return the request fields in addition to any dedicated response field. If the request contains a field that is also intended as a response field, then any incoming request value will be overwritten by the correct response value.</p><p><strong>The Gateway may add new request and response fields at any time and so your integration must take care not to send request fields that may conflict with future Gateway fields and be able to ignore response fields which it doesn’t yet understand.</strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="batch-http-requests">Batch HTTP Requests<a class="hash-link" href="#batch-http-requests" title="Direct link to heading">​</a></h2><p>When using the Batch Integration, a single HTTP POST request can contain multiple individual requests using the <code>multipart/mixed</code> content type with a boundary string specified. Within that main HTTP request, each of the parts contains a nested Direct Integration HTTP request, separated by the boundary string.</p><p>Each part should begin with a <code>Content-Type: application/x-www-form-urlencoded</code> HTTP header and contain a single <a href="/directintegration/overview#directHttpRequests">Direct Integration HTTP request</a>.</p><p>You can optionally specify a <code>Content-Id</code> HTTP header to identify each part message uniquely; if not provided, the Gateway will assign a unique id to each part. The <code>Content-Id</code> HTTP header is returned in the response. The Gateway will not validate the uniqueness of any id provided. After the mandatory <code>Content-type</code> and the optional <code>Content-Id</code> header, two carriage return/line feed pairs must follow (ie \r\n\r\n). Any deviation from this structure might lead to the part being rejected or incorrectly interpreted. The part request payload, formatted as a regular HTTP URL encoded request, must follow the two line breaks directly.</p><p>To reduce the size of large batch requests, the Gateway supports compression using a <code>Content-Encoding</code> HTTP header with either a ‘gzip’ or ‘x-gzip’ value. This header can be provided in the
main request or in the part request or both.</p><p>An <code>Authorization</code> HTTP header can be used in the request to provide the username and password of a Gateway Merchant Management System user account. If correct, the batch details
will be recorded as having been submitted by that user; if invalid, then the request will fail and respond with a 401 (Unauthorised) HTTP status code.</p><p>The Gateway will respond in the same manner as the request with a multipart/mixed content type; each part is the response to one of the requests in the batched request. In addition, the
response will contain a standard <code>Location</code> HTTP header, providing a URL from which further batch update responses can be downloaded; and a standard <code>Content-Disposition</code> header, allowing a browser to download the response to a file. If the request contained an <code>Authorization</code> HTTP header, then the response will contain an <code>X-P3-Token</code> HTTP header containing an authentication token that can be sent in future requests instead of the username and
password. The authentication token has a limited life span, but each future request will return  new token and thus effectively rejuvenate the token’s life.</p><p>Like the parts in the request, each response part contains a HTTP response, including headers and body. Each response part is preceded by a <code>Content-Type</code> HTTP header and <code>Content-ID</code> HTTP header. In addition, an <code>X-Transaction-ID</code> HTTP header is added containing the requests transaction id together with an <code>X-Transaction-Response</code> HTTP header containing a textual description of the transaction processing status.</p><p>The Gateway will not process the transactions immediately but will queue them up to process over time. The transactions may not be processed in the order provided, so should not have interdependencies. Transactions will only appear in the Merchant Management System when they have been processed. The status of queued transaction is only available by querying the status of the batch.</p><p>The current status of a batch can be queried at any time by issuing a HTTP GET request to the URL provided in the initial responses <code>Location</code> HTTP header.</p><p>An <code>Authorization</code> HTTP header must be provided in the status request, containing either the username and password of a Gateway Merchant Management System user account or an authentication token returned in the batch submission response’s <code>X-P3-Token</code> HTTP header. If a valid username and password or a valid token is provided, then the response will be an updated version of the initial submission response providing the current status of each transaction. The response will only contain transactions that the authenticated user has permission to view.</p><p>All request fields will be returned in the response and a Merchant may add custom request fields. If the request contains a field that is also intended as a response field, then any incoming request value will be overwritten by the correct response value. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="handling-errors">Handling Errors<a class="hash-link" href="#handling-errors" title="Direct link to heading">​</a></h2><p>When the Gateway is uncontactable due to a communications error, or problem with the internet connection, you may receive a HTTP status code in the 500 to 599 range. In this situation, you may want to retry the transaction. If you do choose to retry a transaction, then we recommend that you perform a limited number of attempts with an increasing delay between each attempt.</p><p>If the Gateway is unavailable during a scheduled maintenance period, you will receive a HTTP status code of 503 ‘Service Temporarily Unavailable’. In this situation, you should retry the transaction after the scheduled maintenance period has expired. You will be notified of the times and durations of any such scheduled maintenance periods in advance, by email, and given a time when transactions can be reattempted.</p><p>If you are experiencing these errors, then we recommend you consider the following steps as appropriate for the integration method being used:</p><ul><li>Ensure the request is being sent to HTTPS and not HTTP. HTTP is not supported and is not redirected.</li><li>Send transactions sequentially rather than concurrently.</li><li>Configure your integration code with try/catch loops around individual transactions to determine whether they were successful or not and retry if required, based on the return code or HTTP status returned.</li><li>Configure the integration so that if one transaction fails, the entire batch does not stop at that point – ie log the failure to be checked and then skip to the next transaction rather than stopping entirely.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="redirectUrl">Redirect URL<a class="hash-link" href="#redirectUrl" title="Direct link to heading">​</a></h2><p>The <code>redirectURL</code> request field is used to provide the URL of a webpage on your server. This field is NOT supported for batch integrations.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="callbackUrl">Callback URL<a class="hash-link" href="#callbackUrl" title="Direct link to heading">​</a></h2><p>The <code>callbackURL</code> request field allows you to request that the Gateway sends a copy of the response to an alternative URL. This field is NOT supported for batch integrations.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="fieldFormats">Field Formats<a class="hash-link" href="#fieldFormats" title="Direct link to heading">​</a></h2><p>Most integration field values are either numerical or textual, and either free format or from a range of predetermined values. Some field values are records or arrays of records.</p><p>Unless otherwise stated, numerical values are whole integer values with no decimal points. Textual values should use the UTF-8 character set and will be automatically truncated if too long, unless stated otherwise in the field’s description. Textual values may be transliterated when sending to third parties such as Acquirers but the original value is stored by Gateway.</p><p>Field values should use the following formats unless otherwise stated in the field’s description:</p><table><thead><tr><th>Field Type</th><th>Value Format</th></tr></thead><tbody><tr><td>Monetary Amounts</td><td>Either major currency units by providing a value that includes a single decimal point such as ’10.99’; or in minor currency units by providing a value that contains no decimal points such as ‘1099’.</td></tr><tr><td>Timestamps</td><td>Date in the format ‘YYYY-MM-DD HH:MM:SS’</td></tr><tr><td>Dates</td><td>Date in the format ‘YYYY-MM-DD’</td></tr><tr><td>Country Codes</td><td>Either the ISO-3166-1 2-letter, 3-letter or 3-digit code.</td></tr><tr><td>Currency Codes</td><td>Either the ISO-4217 3-letter or 3-digit code.</td></tr><tr><td>Records</td><td>Records can be provided using the <!-- -->[Y]<!-- --> notation, where Y is the record’s sub-field name. Records can be nested to any depth, that is a sub-field’s value can be another record. Arrays can be provided by using numeric sub-fields starting with the value 0 and incrementing by 1. For example: to send a value for the sub-field Z, of the sub-field Y in the integration field X, use the field name X<!-- -->[Y][Z]<!-- -->; however, to send a value for the sub-field Z in the fourth record for integration field X, then use the field name X<!-- -->[4][Z]<!-- --> etc. Boolean values must be sent as the words ‘true’ or ‘false’.</td></tr><tr><td>Serialised Records</td><td>Certain fields allow records to be sent as JSON or URL serialised strings. If the first character of the serialised string is ‘{‘, then the string is assumed to be in JSON format with any boolean values sent as their JSON equivalents, all other strings will be assumed to be application/x-www-form-urlencoded format with any boolean values sent as the words ‘true’ or ‘false’.</td></tr></tbody></table><p>Note: Record format is useful when posting sub-fields directly from individual field in a HTML FORM. However, unlike the main integration fields, a record’s sub-fields are not sorted when constructing the signature and are processed in the order received. Serialised record format can overcome any problems caused by the sub-fields of a record being received in a different order to that used when generating the signature. Not all fields using the record format also support the serialised record format especially the <code>threeDSRequest</code>, <code>threeDSResponse</code>, <code>checkoutRequest</code>, <code>checkoutResponse</code> and the purchase <code>items</code> field.</p><p>Boolean values cannot be represented when using the record format or the <code>application/x-www-form-urlencoded</code> serialised record format and the words ‘true’ and ‘false’ must be used. The JSON serialised record format does not have this restriction and a JSON boolean can be used.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/batchintegration/samplecode"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Sample Code &amp; Examples</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#security-and-compliance" class="table-of-contents__link toc-highlight">Security and Compliance</a></li><li><a href="#authentication" class="table-of-contents__link toc-highlight">Authentication</a><ul><li><a href="#password-authentication" class="table-of-contents__link toc-highlight">Password authentication</a></li><li><a href="#message-signing" class="table-of-contents__link toc-highlight">Message signing</a></li></ul></li><li><a href="#allowed-ip-addresses" class="table-of-contents__link toc-highlight">Allowed IP addresses</a></li><li><a href="#http-requests" class="table-of-contents__link toc-highlight">HTTP Requests</a></li><li><a href="#batch-http-requests" class="table-of-contents__link toc-highlight">Batch HTTP Requests</a></li><li><a href="#handling-errors" class="table-of-contents__link toc-highlight">Handling Errors</a></li><li><a href="#redirectUrl" class="table-of-contents__link toc-highlight">Redirect URL</a></li><li><a href="#callbackUrl" class="table-of-contents__link toc-highlight">Callback URL</a></li><li><a href="#fieldFormats" class="table-of-contents__link toc-highlight">Field Formats</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://developer.handpoint.com/cpdocs/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">In-Person Payments Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/cnpdocs/index.html">Online Payments Docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://handpoint.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Handpoint Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/handpoint" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/handpointltd?lang=en" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Get our Apps</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://play.google.com/store/apps/details?id=com.handpoint.hipos&amp;hl=en&amp;gl=US&amp;pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1" target="_blank" rel="noopener noreferrer" class="footer__link-item">Get it on Google Play<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://apps.apple.com/us/app/handpoint/id1450546788?itsct=apps_box_link&amp;itscg=30200" target="_blank" rel="noopener noreferrer" class="footer__link-item">Download on the App Store<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://status.handpoint.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Handpoint Status Page<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://handpoint.atlassian.net/wiki/spaces/PD/overview?homepageId=5898250" target="_blank" rel="noopener noreferrer" class="footer__link-item">FAQ<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://handpoint.us6.list-manage.com/subscribe?u=4d9dff9e7edb7e57a67a7b252&amp;id=0a2179241e" target="_blank" rel="noopener noreferrer" class="footer__link-item">Subscribe to the Handpoint Newsletter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/handpoint" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://www.handpoint.com" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="https://handpoint.imgix.net/handpoint-logo-w.png?w=150" alt="Handpoint Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="https://handpoint.imgix.net/handpoint-logo-w.png?w=150" alt="Handpoint Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">Copyright © 2022 Handpoint</div></div></div></footer></div>
<script src="/assets/js/runtime~main.24b336bb.js"></script>
<script src="/assets/js/main.9ad102f5.js"></script>
</body>
</html>