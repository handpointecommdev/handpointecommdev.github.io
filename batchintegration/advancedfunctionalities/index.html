<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-batchintegration docs-doc-id-advancedfunctionalities">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Advanced Gateway Functionalities | Handpoint</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://developer-ecomm.handpoint.io/batchintegration/advancedfunctionalities"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-batchintegration-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-batchintegration-current"><meta data-rh="true" property="og:title" content="Advanced Gateway Functionalities | Handpoint"><meta data-rh="true" name="description" content="AVS/CV2 Checking"><meta data-rh="true" property="og:description" content="AVS/CV2 Checking"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://developer-ecomm.handpoint.io/batchintegration/advancedfunctionalities"><link data-rh="true" rel="alternate" href="https://developer-ecomm.handpoint.io/batchintegration/advancedfunctionalities" hreflang="en"><link data-rh="true" rel="alternate" href="https://developer-ecomm.handpoint.io/batchintegration/advancedfunctionalities" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RNDFP191TE"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RNDFP191TE",{anonymize_ip:!0})</script>









<script src="https:////js-eu1.hs-scripts.com/25846579.js"></script><link rel="stylesheet" href="/assets/css/styles.423f145a.css">
<link rel="preload" href="/assets/js/runtime~main.b5aff28d.js" as="script">
<link rel="preload" href="/assets/js/main.4cacc470.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://developer.handpoint.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/handpoint-logo-hvitt.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA" width="75"><img src="/img/handpoint-logo-hvitt.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU" width="75"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/cnpdocs">Getting Started</a><a class="navbar__item navbar__link" href="/docs/overview">Hosted Payment Page</a><a class="navbar__item navbar__link" href="/hostedpaymentfields/overview">Hosted Payment Fields</a><a class="navbar__item navbar__link" href="/directintegration/overview">Direct Integration</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/batchintegration/overview">Batch Integration</a><a class="navbar__item navbar__link" href="/paybutton/basicpaybutton">Pay By Link</a><a class="navbar__item navbar__link" href="/shoppingcarts/shoppingcarts">Shopping Carts</a><a class="navbar__item navbar__link" href="/mobilesdks/mobilesdks">Mobile SDKs</a></div><div class="navbar__items navbar__items--right"><a href="https://status.handpoint.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-statuspage-icon" aria-label="Status Page"></a><a href="https://github.com/handpoint" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/batchintegration/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/batchintegration/samplecode">Sample Code &amp; Examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/batchintegration/transactiontypes">Transaction Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/batchintegration/credentialsonfile">Credentials on file &amp; Recurring Transactions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/batchintegration/advancedfunctionalities">Advanced Gateway Functionalities</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/batchintegration/advanceddata">Extra Transaction Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/batchintegration/annexes">Annexes</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Advanced Gateway Functionalities</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Advanced Gateway Functionalities</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="avscv2-checking">AVS/CV2 Checking<a class="hash-link" href="#avscv2-checking" title="Direct link to heading">​</a></h2><p>AVS and CV2 fraud checking is available on all card transactions processed by the Gateway where supported by the Acquirer. </p><p>These fraud prevention checks are performed by the Acquirer while authorising the transaction. You can choose how to act on the outcome of the check (or even to ignore them altogether).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="avs-checking">AVS Checking<a class="hash-link" href="#avs-checking" title="Direct link to heading">​</a></h4><p>The Address Verification System (AVS) uses the address details that are provided by the Cardholder to verify that the address is registered to the card being used. The address and postcode are checked separately.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cv2-checking">CV2 Checking<a class="hash-link" href="#cv2-checking" title="Direct link to heading">​</a></h4><p>CV2, CVV, or Card Verification Value is a 3-digit or 4-digit security code. The check verifies that the code is the correct one for the card used.</p><p>For most cards, the CVV is a 3-digit number to the right of the signature strip. For American Express cards, this is a 4-digit number printed, not embossed, on the front right of the card.</p><p>The AVS/CV2 checking preferences can be configured per Merchant Account. These preferences can be overridden per transaction by sending one of the preference fields that hold a comma separated list of the check responses that should be allowed in order to continue to completion. Responses not in the list will result in the transaction being declined with a <code>responseCode</code> of 5 (AVS/CV2 DECLINED).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="avscv2-benefits">AVS/CV2 Benefits<a class="hash-link" href="#avscv2-benefits" title="Direct link to heading">​</a></h4><ul><li>Can be enabled with just a few extra integration fields.</li><li>The results are available immediately and returned as part of the transaction.</li><li>The checks can be managed independently, allowing you the utmost control over how the results are used.</li><li>The checks can be configured to decline a transaction automatically, where required.</li><li>There are no extra costs for using AVS/CV2 checking with your transactions.</li><li>Fully configurable per merchant account.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="avscv2-limitations">AVS/CV2 Limitations<a class="hash-link" href="#avscv2-limitations" title="Direct link to heading">​</a></h4><ul><li>The AVS checks are mainly supported by Visa, MasterCard and American Express in the USA, Canada and United Kingdom. Cardholders with a bank that does not support the checks might receive declines due to the lack of data.</li><li>Because AVS only verifies the numeric portion of the address and postcode, certain anomalies such as apartment numbers and house names can cause false declines.</li><li>The checks are meant for consumer cards. Company cards are not fully supported due to the Acquirers’ not having access to this information.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="request-fields">Request Fields<a class="hash-link" href="#request-fields" title="Direct link to heading">​</a></h3><p>These fields should be sent in addition to basic request fields detailed in the <a href="/batchintegration/transactiontypes/#transactionRequest">transaction types</a> section : </p><table><thead><tr><th>Name</th><th>Mandatory</th><th>Description</th></tr></thead><tbody><tr><td>customerAddress</td><td><span class="badge badge--primary">Yes</span></td><td>For AVS checking, this must be a registered billing address for the card.</td></tr><tr><td>customerPostCode</td><td><span class="badge badge--primary">Yes</span></td><td>For AVS checking, this must be a registered postcode for the card.</td></tr><tr><td>cardCVV</td><td><span class="badge badge--primary">Yes</span></td><td>For CVV checking, this must be the Card Verification Value printed on the card.</td></tr><tr><td>avscv2CheckRequired</td><td>No</td><td>Is AVS/CV2 checking required for this transaction? <br>Possible values are: <br>N – Checking is not required. <br>Y – Abort if checking is not enabled.<br><br> Overrides any Merchant Account setting configured in the backend.</td></tr><tr><td>cv2CheckPref</td><td>No</td><td>List of <code>cv2Check</code> response values that are to be accepted; any other value will cause the transaction to be declined. Refer to <a href="/batchintegration/annexes#AvsResponseCodes">AVS response codes</a> for more information. Value is a comma separated list containing one or more of the following: not known, not checked, matched, not matched, partially matched.<br><br> Overrides any Merchant Account setting configured in the backend.</td></tr><tr><td>addressCheckPref</td><td>No</td><td>List of <code>addressCheck</code> response values that are to be accepted; any other value will cause the transaction to be declined. Refer to <a href="/batchintegration/annexes#AvsResponseCodes">AVS response codes</a> for more information. Value is a comma separated list containing one or more of the following: not known, not checked, matched, not matched, partially matched.<br><br> Overrides any Merchant Account setting configured in the backend.</td></tr><tr><td>postcodeCheckPref</td><td>No</td><td>List of <code>postcodeCheck</code> response values that are to be accepted; any other value will cause the transaction to be declined. Refer to <a href="/batchintegration/annexes#AvsResponseCodes">AVS response codes</a> for more information. Value is a comma separated list containing one or more of the following: not known, not checked, matched, not matched, partially matched.<br><br> Overrides any Merchant Account setting configured in the backend.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="response-fields">Response Fields<a class="hash-link" href="#response-fields" title="Direct link to heading">​</a></h3><p>These fields will be returned in addition to the AVS request fields above and the basic response fields detailed in the <a href="/batchintegration/transactiontypes/#transactionResponse">transaction types</a> section : </p><table><thead><tr><th>Name</th><th>Returned</th><th>Description</th></tr></thead><tbody><tr><td>avscv2CheckEnabled</td><td>Always</td><td>Is AVS/CV2 checking enabled for this Merchant Account? <br>Possible values are: <br>N – Merchant account is not enabled. <br>Y – Merchant account is enabled.</td></tr><tr><td>avscv2ResponseCode</td><td>If checks performed</td><td>The result of the AVS/CV2 check. Refer to <a href="/batchintegration/annexes#AvsResponseCodes">AVS response codes</a> for more information.</td></tr><tr><td>avscv2ResponseMessage</td><td>If checks performed</td><td>The message received from the Acquiring bank, or any error message with regards to the AVS/CV2 check. Refer to <a href="/batchintegration/annexes#AvsResponseCodes">AVS response codes</a> for more information.</td></tr><tr><td>avscv2AuthEntity</td><td>If checks performed</td><td>Textual description of the AVS/CV2 authorising entity as described in <a href="/batchintegration/annexes#AvsResponseCodes">AVS response codes</a>. Possible values are: not known, merchant host, acquirer host, card scheme, issuer.</td></tr><tr><td>cv2Check</td><td>If checks performed</td><td>Description of the AVS/CV2 check as described in <a href="/batchintegration/annexes#AvsResponseCodes">AVS response codes</a>. Possible values are: not known, not checked, matched, not matched, partially matched.</td></tr><tr><td>addressCheck</td><td>If checks performed</td><td>Description of the AVS/CV2 address check as described in <a href="/batchintegration/annexes#AvsResponseCodes">AVS response codes</a>. Possible values are: not known, not checked, matched, not matched, partially matched.</td></tr><tr><td>postcodeCheck</td><td>If checks performed</td><td>Description of the AVS/CV2 postcode check as described in <a href="/batchintegration/annexes#AvsResponseCodes">AVS response codes</a>. Possible values are: not known, not checked, matched, not matched, partially matched.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="risk-checking">Risk Checking<a class="hash-link" href="#risk-checking" title="Direct link to heading">​</a></h2><p>The Gateway is integrated with Kount, the leading solution for digital fraud prevention.</p><p>If you have an existing account with Kount, or sign up for one, you can request that the Gateway pass your transactions to them for risk checking before they are sent to the Acquirer for authorisation.</p><p>Kount’s patented fraud prevention technology combines device fingerprinting; supervised and unsupervised machine learning; a robust policy and rules engine; business intelligence tools; and a web-based case-management and investigation system.</p><p>Their team of experts can help you understand and identify the rules necessary to optimise your protection, as well as provide ongoing support. To get the most out of your investment, you may want to dedicate an individual or a team to monitor your rules and ensure they continue to work as intended.</p><p>The risk checking preferences can be configured per Merchant Account within the Merchant Management System (MMS). These preferences can be overridden per transaction by sending new preferences. You must use the Kount management portal to configure your risk parameters and thresholds.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Risk checking is an advanced feature and must be enabled on your Merchant Account before it can be used. Please contact support if you wish to have it enabled.</p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="benefits">Benefits<a class="hash-link" href="#benefits" title="Direct link to heading">​</a></h4><ul><li>The results are available immediately and returned as part of the transaction.</li><li>The checks can be managed independently, allowing you the utmost control over how the results are used.</li><li>The checks can be configured to decline the transaction automatically where required.</li><li>Leverage the ability to review transactions and decide what course of action to take.</li><li>The checks can reduce chargebacks by blocking transactions made without the Cardholder’s consent that would have resulted in the Cardholder raising a chargeback to recover the fraudulent transaction amount.</li><li>Providing enhanced risk checking increases Customer confidence and thus increases the likelihood of their making a purchase.</li><li>Fully configurable within the Merchant Management System (MMS).</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="limitations">Limitations<a class="hash-link" href="#limitations" title="Direct link to heading">​</a></h4><ul><li>Checking cannot prevent all fraudulent transactions and could even prevent some non-fraudulent transactions.</li><li>There are additional fees associated with having a Kount account.</li><li>You will have to spent time analysing your transactions and establishing fraud rules.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="implementation">Implementation<a class="hash-link" href="#implementation" title="Direct link to heading">​</a></h3><p>When risk checking is required, each transaction will be sent to Kount for checking and the result of the check will be returned in the <code>riskCheck</code> response field with one of the following values:</p><ul><li>not known - the checks could not be performed due to our error</li><li>not checked - the checks could not be performed by Kount</li><li>approve - the transaction is not risky and should proceed</li><li>decline - the transaction is risky and should be declined</li><li>review - the transaction is risky but proceed with caution</li><li>escalate - the transaction is risky but proceed with caution</li></ul><p>The actions to take for each riskCheck response can be configured for the Merchant Account, using the Merchant Management System. Alternatively, the preferred actions can be passed with the transaction request in the <code>riskCheckPref</code> field. The possible actions are as follows:</p><ul><li>continue - continue processing as normal</li><li>authonly - authorise only, don&#x27;t capture</li><li>decline1 - decline without reason</li><li>decline2 - decline with reason</li><li>finished - abort with reason</li></ul><p>The <strong>continue</strong> action allows the transaction to continue as normal and be sent to the Acquirer for authorisation. A <code>riskCheck</code> value of <strong>approve</strong> will always be treated as if the action was <strong>continue</strong>, regardless of whether the preferences say otherwise.</p><p>The <strong>authonly</strong> action allows the transaction to be authorised but not automatically captured giving you time to review it and decide whether you want to take the risk and capture the transaction or assume it to be fraudulent and cancel it.</p><p>The <strong>decline1</strong> and <strong>decline2</strong> actions will cause the transaction to be declined. Both decline the transaction and return with a <code>responseCode</code> of <strong>5 (DECLINED)</strong> and a <code>responseMessage</code> of ‘DECLINED’ or ‘RISK DECLINED’ respectively. The first action should be used if you don’t wish to alert the Customer to the fact that you suspected that their transaction was fraudulent and declined it for that reason.</p><p>The finished action will abort the transaction, causing it to return with a <code>responseCode</code> of either <strong>65857 (RISK_CHECK_ERROR)</strong> or <strong>65862 (RISK_CHECK_DECLINED)</strong> depending on whether an error prevented the transaction from being checked by Kount, resulting in a <code>riskCheck</code> value of ‘not known’ or ‘not checked’.</p><p>The <code>riskCheckPref</code> field can be provided in the request to override any settings configured in the Merchant Management System (MMS) for this Merchant Account. The value should be a comma separated list of result=actions pairs. If a result is not specified in the list, then an action of <strong>decline1</strong> is assumed. For example: <strong>”decline=decline1,review=authonly,escalate=authonly”</strong>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="riskCheckRequestFields">Request Fields<a class="hash-link" href="#riskCheckRequestFields" title="Direct link to heading">​</a></h3><p>These fields should be sent in addition to basic request fields detailed in the <a href="/batchintegration/transactiontypes/#transactionRequest">transaction types</a> section: </p><table><thead><tr><th>Name</th><th>Mandatory</th><th>Description</th></tr></thead><tbody><tr><td>riskCheckRequired</td><td>No</td><td>Is risk checking required for this transaction?<br><br> Possible values are:<br> N – risk checking is not required.<br> Y – risk checking is required.<br><br> This parameter overrides any Merchant Account setting configured via the Merchant Management System (MMS).</td></tr><tr><td>riskCheckPref</td><td>No</td><td>List of riskCheck response values and the action to be taken for those responses.<br><br> Value is a comma separated list containing one or more of the following risk check results and associated actions:<br> Results: not known, not checked, approve, decline, review, escalate. <br>Actions: continue, decline1, decline2, authonly, finished.<br><br> This parameter overrides any Merchant Account setting configured via the Merchant Management System (MMS).</td></tr><tr><td>riskCheckOptions</td><td>No</td><td>Record containing options used to customise the risk checking. Refer to the <a href="#riskCheckOptions">Risk Check Options</a> section for more details.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="riskCheckOptions">Risk Check Options<a class="hash-link" href="#riskCheckOptions" title="Direct link to heading">​</a></h4><p>The following options may be sent in the <code>riskCheckOptions</code> field to customise the risk checking. Where possible, the options will be initialised from standard integration fields as shown in brackets below the option name. The options must be formatted using the  <a href="/batchintegration/overview#fieldFormats">record or serialised record formats</a>. </p><table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>IPAD (remoteAddress)</td><td>Customer’s IPv4 address (X.X.X.X).</td></tr><tr><td>MACK</td><td>Merchant’s acknowledgement to ship/process the order (Y or N).</td></tr><tr><td>SESS</td><td>Unique Session ID. Used to link to Kount’s browser device data collector.</td></tr><tr><td>ANID</td><td>Automatic Number Identification (ANI) submitted with order.</td></tr><tr><td>CASH</td><td>Total cash amount in currency submitted.</td></tr><tr><td>ORDR (merchantOrderRef)</td><td>Merchant’s Order Number.</td></tr><tr><td>UNIQ (merchantCustomerRef)</td><td>Merchant assigned account number for Customer.</td></tr><tr><td>EPOC</td><td>Date Customer account was created by merchant.</td></tr><tr><td>NAME (customerName)</td><td>Customer’s name (or name submitted with the order).</td></tr><tr><td>GENDER (customerGender)</td><td>Customer’s gender (M or F)</td></tr><tr><td>BPREMISE (customerCompany)</td><td>Customer’s billing address premises name (UK only).</td></tr><tr><td>BSTREET (customerStreet, customerAddress)</td><td>Customer’s billing address street (UK only).</td></tr><tr><td>B2A1 (customerAddress)</td><td>Customer’s billing address county/state.</td></tr><tr><td>B2A2 (customerAddress2)</td><td>Customer’s billing address county/state.</td></tr><tr><td>B2CI (customerTown)</td><td>Customer’s billing address county/state.</td></tr><tr><td>B2ST (customerCounty)</td><td>Customer’s billing address county/state.</td></tr><tr><td>B2PC (customerPostcode)</td><td>Customer’s billing address postcode.</td></tr><tr><td>B2CC (customerCountryCode)</td><td>Customer’s billing address country code.</td></tr><tr><td>EMAL (customerEmail)</td><td>Cardholder’s email address.</td></tr><tr><td>B2PN (customerPhone)</td><td>Cardholder’s phone number.</td></tr><tr><td>DOB (customerDateOfBirth, recipientDateOfBirth)</td><td>Cardholder’s date of birth.</td></tr><tr><td>S2NM (deliveryName)</td><td>Name of person receiving the delivery.</td></tr><tr><td>SPREMISE (deliveryCompany)</td><td>Delivery premises name (UK only).</td></tr><tr><td>SSTREET (deliveryStreet, deliveryAddress)</td><td>Delivery street address (UK only).</td></tr><tr><td>S2A1 (deliveryAddress)</td><td>Delivery address line 1.</td></tr><tr><td>S2A2 (deliveryAddress2)</td><td>Deliver address line 2.</td></tr><tr><td>S2CI (deliveryTown)</td><td>Delivery town/city.</td></tr><tr><td>S2ST (deliveryCounty)</td><td>Delivery county/state.</td></tr><tr><td>S2PC (deliveryPostcode)</td><td>Delivery postcode.</td></tr><tr><td>S2CC (deliveryCountryCode)</td><td>Delivery country code.</td></tr><tr><td>S2EM (deliveryEmail)</td><td>Delivery email address.</td></tr><tr><td>S2PN (deliveryPhone)</td><td>Phone number of delivery location.</td></tr><tr><td>SHTP (shippingType, shippingMethod)</td><td>Shipping type.</td></tr><tr><td>PROD_TYPE<!-- -->[XX]<!-- --> (items.XX.description)</td><td>Type for the XXth item purchased.</td></tr><tr><td>PROD_ITEM<!-- -->[XX]<!-- --> (items.XX.productCode)</td><td>SKU for the XXth item purchased.</td></tr><tr><td>PROD_DESC<!-- -->[XX]<!-- --> (items.XX.description)</td><td>Description XXth item purchased.</td></tr><tr><td>PROD_QUANT<!-- -->[XX]<!-- --> (items.XX.quantity)</td><td>Quantity of XXth item purchased.</td></tr><tr><td>PROD_PRICE<!-- -->[XX]<!-- --> (items.XX.amount)</td><td>Unit amount for XXth item purchased.</td></tr><tr><td>UDF<!-- -->[XXXX]</td><td>User defined field XXXX.</td></tr></tbody></table><p>For further information on the options, refer to the Kount Integration documentation: <a href="https://kount.github.io/docs/ris-data-submission/" target="_blank" rel="noopener noreferrer">https://kount.github.io/docs/ris-data-submission/</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="response-fields-1">Response Fields<a class="hash-link" href="#response-fields-1" title="Direct link to heading">​</a></h3><p>These fields should be sent in addition to the <a href="#riskCheckRequestFields">risk check request fields</a>and the basic response fields detailed in the <a href="/batchintegration/transactiontypes/#transactionResponse">transaction types</a> section: </p><table><thead><tr><th>Name</th><th>Returned</th><th>Description</th></tr></thead><tbody><tr><td>riskCheckEnabled</td><td>Always</td><td>Is risk checking enabled for this Merchant Account?<br><br> Possible values are:<br> N – Merchant account is not enabled.<br> Y – Merchant account is enabled.</td></tr><tr><td>riskCheck</td><td>If checked</td><td>The result of the risk check.<br><br>Possible values are:<br> approve – ok, recommend proceed to authorisation. <br> decline – probably fraudulent, recommend decline. <br> review – possibly fraudulent, recommend review. <br> escalate – possibly fraudulent, recommend review.</td></tr><tr><td>riskCheckDetails</td><td>If checked</td><td>Record containing the raw response received from Kount minus any sensitive data.</td></tr><tr><td>riskCheckResponseCode</td><td>If checked</td><td>Response code for the risk processing stage.</td></tr><tr><td>riskCheckResponseMessage</td><td>If checked</td><td>Response message for the risk processing stage.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="payment-facilitators">Payment Facilitators<a class="hash-link" href="#payment-facilitators" title="Direct link to heading">​</a></h2><p>If you are a Payment Facilitator (PayFac/PF) or Independent Sales Organisation (ISO), then you must send additional fields to identify yourself and your sub-merchants.</p><p>These fields must be sent with every new transaction; however, they can be cloned from an existing transaction if using an xref as described in <a href="/batchintegration/annexes#transactionCloning">transaction cloning</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="request-fields-1">Request Fields<a class="hash-link" href="#request-fields-1" title="Direct link to heading">​</a></h3><table><thead><tr><th>Name</th><th>Mandatory</th><th>Description</th></tr></thead><tbody><tr><td>facilitatorID</td><td><span class="badge badge--primary">Yes</span></td><td>Your facilitator identifier as assigned by the Scheme.</td></tr><tr><td>facilitatorName</td><td>No</td><td>Your trading name as registered with the Scheme.</td></tr><tr><td>isoID</td><td>No</td><td>Your ISO identifier as assigned by the Scheme.</td></tr><tr><td>subMerchantID</td><td>No</td><td>Unique identifier assigned to this Sub Merchant.</td></tr><tr><td>merchantXXXX</td><td>No</td><td>Sub Merchant details as documented in the <a href="/batchintegration/advanceddata#merchantRequestFields">merchant request fields</a>.</td></tr><tr><td>statementNarrativeX</td><td>No</td><td>Statement details as documented in <a href="#dynamicDescriptor">dynamic descriptor</a>.</td></tr></tbody></table><p>Some of the above fields marked as optional might be mandatory depending on the acquirer you are working with. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="financial-institutions-merchants">Financial Institutions Merchants<a class="hash-link" href="#financial-institutions-merchants" title="Direct link to heading">​</a></h2><p>Every Merchant Account has a category code, also known as the MCC code, attached to it. This category code identifies the market that the payment is related to, allowing issuing banks to identify what product or service is, or was, being provided.</p><p>The merchant category code 6012 is related to payments taken for financial institutions, primarily those merchants that deal with loan payments or other credit-related activities. According to Visa, this is the most fraudulent merchant category in the UK market due to compromised debit card details’ being used to pay or transfer balances to other cards. Acquirers are therefore unable to confirm whether a payment is genuine, despite matching the full CVV2 with AVS.</p><p>To address this situation, issuing banks have requested additional payment information to be provided with payment requests in order to verify that the cardholder is knowingly entering into a credit-related contractual agreement with the merchant.</p><p>If you are a Merchant who has been assigned the MCC 6012 you must collect the following data for the primary recipient for each UK domestic Visa or Mastercard transaction. The additional details are currently only required by Visa and Mastercard however we recommend sending for all card types in order to be prepared for when other card Schemes follow suite.</p><ul><li>Unique account identifier for the loan or outstanding balance funded. For example, the loan account number or the PAN (Primary Account Number) if it is a credit card balance.</li><li>Last name (family name)</li><li>Date of Birth (D.O.B)</li><li>Postcode</li></ul><p>Primary recipients are the entities (people or organisations) that have a direct relationship with the financial institution. Also, these primary recipients have agreed to the terms and conditions of the financial institution.</p><p>The new fields are not currently mandatory. However, some Acquirers are now declining transactions that are missing this information and so we recommend the information is always provided, even if your Acquirer doesn’t currently mandate them.</p><p><em>If you are not a UK MCC 6012 Merchant or the payment is not a UK domestic one, then you need not provide these additional authentication details though the Gateway will accept them if you do.</em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="request-fields-2">Request Fields<a class="hash-link" href="#request-fields-2" title="Direct link to heading">​</a></h3><p>To comply with the card brand rules, an MCC6012 Merchant must send these additional fields:</p><table><thead><tr><th>Name</th><th>Mandatory</th><th>Description</th></tr></thead><tbody><tr><td>merchantCategoryCode</td><td><span class="badge badge--primary">Yes</span></td><td>Merchant’s VISA MCC (should be 6012).<br><br>Only required if the Merchants Category Code is not configured on your Gateway account.</td></tr><tr><td>receiverName</td><td><span class="badge badge--primary">Yes</span></td><td>Surname only - up to 6 letters allowed.</td></tr><tr><td>receiverAccountNo</td><td><span class="badge badge--primary">Yes</span></td><td>Account number. If a PAN is supplied only the first 6 and last 4 digits will be used.</td></tr><tr><td>receiverDateOfBirth</td><td><span class="badge badge--primary">Yes</span></td><td>Primary recipient’s date of birth.</td></tr><tr><td>receiverPostcode</td><td><span class="badge badge--primary">Yes</span></td><td>Primary recipient’s postcode. (Only the district is required but full postcodes are accepted, therefore ‘W12 8QT’ or just ‘W12’ are acceptable values).</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="billing-descriptor">Billing Descriptor<a class="hash-link" href="#billing-descriptor" title="Direct link to heading">​</a></h2><p>The Billing Descriptor is how your details appear on the Cardholder’s statement. It is set up with the Acquirer when the Merchant Account is opened. It is used by the Cardholder to identify who a payment was made to on a particular transaction.</p><p>Selecting a clear Billing Descriptor is important for you to avoid a chargeback when the Cardholder does not recognise the name on the transaction.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="static-descriptor">Static Descriptor<a class="hash-link" href="#static-descriptor" title="Direct link to heading">​</a></h3><p>The Static Descriptor is the descriptor agreed between yourself and your Acquirer when the Merchant Account is opened. The descriptor used is typically your trading name, location and contact phone number.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dynamicDescriptor">Dynamic Descriptor<a class="hash-link" href="#dynamicDescriptor" title="Direct link to heading">​</a></h3><p>The Dynamic Descriptor is a descriptor sent with the transaction that includes details on the goods purchased or service provided, this is often used by large companies that provide many services and where the brand of the service is more familiar than the company name. The Dynamic Descriptor usually replaces any Static Descriptor on a per transaction basis.</p><p>Not all Acquirers accept Dynamic Descriptors and, for those that do, the required format varies. Often, your Merchant name is shortened to three (3) letters, followed by an asterisk (*), followed by a short description of the service or product that the business provides. This field typically has a limit of twenty-five (25) characters including the phone number.</p><p>For more information on whether your Acquirer allows Dynamic Descriptor and the format in which they should be sent, please contact customer support.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="request-fields-3">Request Fields<a class="hash-link" href="#request-fields-3" title="Direct link to heading">​</a></h4><p>The Dynamic Descriptor is built using one or more of the following narrative fields.</p><table><thead><tr><th>Name</th><th>Mandatory</th><th>Description</th></tr></thead><tbody><tr><td>statementNarrative1</td><td>No</td><td>Merchant’s name.</td></tr><tr><td>statementNarrative2</td><td>No</td><td>Product, service or other descriptive info.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="surcharges">Surcharges<a class="hash-link" href="#surcharges" title="Direct link to heading">​</a></h2><p>Surcharges are an additional charge that you can apply to the transactions that are processed through your Merchant Account.</p><p>Transactions that are sent for authorisation are subject to processing charges from your Acquirer and surcharges enable you to pass the processing charges that you incur on to your Customers.</p><p>You may, for example, be charged a fixed amount for debit card transactions and a percentage amount for credit card transactions. Consequently, the Gateway gives you the option to add both a fixed amount and percentage amount when applying a surcharge.</p><p>Surcharges should only be added to cover the processing charges that are incurred by your business. There is no Gateway imposed limit to the value of the surcharges that can be added to your transaction, although there are legal requirements. As a rule, the surcharge must not exceed the processing costs that you pay.</p><p>Some businesses apply surcharges to cover all the costs that they incur; while others use the surcharges to subsidise the charges.</p><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>Surcharge amounts may be limited or illegal in your jurisdiction. For example, surcharging is illegal in the European Union but allowed in most US states. It is up to you to check with your Acquirer and comply with any laws.</p></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Surcharges is an advanced feature and must be enabled on the merchant accounts before it can be used. Please contact support if you wish to have it enabled.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="surchargeRules">Surcharge Rules<a class="hash-link" href="#surchargeRules" title="Direct link to heading">​</a></h3><p>The <code>surchargeRules</code> field allows you to provide multiple rules specifying what surcharges should be applied to a transaction. If a transaction matches multiple rules, then the most specific rule will be used; or the first in the list.</p><p>Each surcharge rule contains the following fields:</p><table><thead><tr><th>Name</th><th>Mandatory</th><th>Description</th></tr></thead><tbody><tr><td>cardType</td><td><span class="badge badge--primary">Yes</span></td><td>One or more 2-letter card type codes for which this rule applies. The following two card type codes are also supported, in addition to the codes listed in the <a href="/batchintegration/annexes/#cardIdentification">card identification</a> section.<br><br> CC – matches any credit card.<br> DD – matches any debit card.</td></tr><tr><td>currency</td><td>No</td><td>Zero or more 3-letter ISO-4217 currency codes.</td></tr><tr><td>surcharge</td><td><span class="badge badge--primary">Yes</span></td><td>Surcharge amount in minor (N) or major (N.N) units or a percentage (N%).</td></tr></tbody></table><p>The surcharge rules should be passed in a sequential array of records, either as nested records or serialised records as described in the <a href="/batchintegration/overview#fieldFormats">format guide</a>. The record field names are case sensitive.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="surcharge-amounts">Surcharge Amounts<a class="hash-link" href="#surcharge-amounts" title="Direct link to heading">​</a></h3><p>The Gateway doesn&#x27;t usually validate that any <code>amount</code> and <code>grossAmount</code> fields are the same and that any <code>netAmount</code>, <code>taxAmount</code> and <code>taxRate</code> tally. However, in order to update them when a surcharge is applied, the <code>amount</code> and <code>grossAmount</code> must match and the correct <code>taxRate</code> must be provided or be able to be calculated from one or more of the other fields. Failure in this respect can cause the Gateway to return one of the following <code>responseCode</code> values; 66360 (INVALID_GROSSAMOUNT), 66361 (INVALID_NETAMOUNT), 66338 (INVALID_TAXAMOUNT), 66362 (INVALID_TAX_RATE).</p><p>If the request contains a <code>surchargeAmount</code> field, then the Gateway will assume that surcharging has already been performed externally and will not attempt to apply any further surcharges.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="surchargeRequestFields">Request Fields<a class="hash-link" href="#surchargeRequestFields" title="Direct link to heading">​</a></h3><table><thead><tr><th>Name</th><th>Mandatory</th><th>Description</th></tr></thead><tbody><tr><td>surchargeRequired</td><td>No</td><td>Is surcharging required for this transaction?<br><br> Possible values are:<br> N – Surcharging is not required.<br> Y – Surcharging is required.<br><br>Overrides any Merchant Account setting configured via the Merchant Management System (MMS).</td></tr><tr><td>surchargeRules</td><td>No</td><td>Surcharge rules as documented in <a href="#surchargeRules">surcharge rules</a>.<br><br>Overrides any Merchant Account setting configured via the Merchant Management System (MMS).</td></tr><tr><td>surchargeAmount</td><td>No</td><td>Surcharge amount already added. A further surcharge will not be added.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="response-fields-2">Response Fields<a class="hash-link" href="#response-fields-2" title="Direct link to heading">​</a></h3><p>These fields will be returned in addition to the <a href="#surchargeRequestFields">surcharge request fields</a> and the <a href="/batchintegration/transactiontypes#transactionResponse">basic response fields</a>.</p><table><thead><tr><th>Name</th><th>Returned</th><th>Description</th></tr></thead><tbody><tr><td>surchargeEnabled</td><td>Always</td><td>Is surcharging enabled on this Merchant Account?</td></tr><tr><td>surchargeAmount</td><td>Always</td><td>Surcharge amount added.</td></tr><tr><td>amount</td><td>Always</td><td>Original request value with additional surcharge.</td></tr><tr><td>grossAmount</td><td>Conditional</td><td>Original request value adjusted for new <code>amount</code>.</td></tr><tr><td>netAmount</td><td>Conditional</td><td>Original request value adjusted for new <code>amount</code>.</td></tr><tr><td>taxAmount</td><td>Conditional</td><td>Original request value adjusted for new <code>amount</code>.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="receipts-and-notifications">Receipts and Notifications<a class="hash-link" href="#receipts-and-notifications" title="Direct link to heading">​</a></h2><p>The Gateway can be configured to email transaction receipts automatically to the Customer and notifications to the Merchant.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="customer-email-receipts">Customer Email Receipts<a class="hash-link" href="#customer-email-receipts" title="Direct link to heading">​</a></h3><p>The Customer can be emailed a transaction receipt automatically each time a transaction is processed by the Gateway. Receipts are sent at the time the transaction is authorised and only for transactions where the Acquirer has approved the authorisation. Receipts are not sent for declined or referred authorisations or aborted transactions.</p><p>This functionality is enabled globally on a per Merchant Account basis using the Merchant Management System (MMS). This global setting can also be overridden per transaction if required, using the <code>customerReceiptsRequired</code> field.</p><p>Customer receipts require the Customer to provide an email address; if no email address is provided then no receipt will be sent.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="merchant-email-notifications">Merchant Email Notifications<a class="hash-link" href="#merchant-email-notifications" title="Direct link to heading">​</a></h3><p>You can be automatically emailed a transaction notification each time a transaction is processed by the Gateway. Notifications are sent at the time the transaction is authorised and only for transactions where the Acquirer approved, declined or referred the authorisation. Notifications are not sent for aborted transactions.</p><p>This functionality is enabled globally on a per Merchant Account basis, using the Merchant Management System (MMS). This global setting can also be overridden per transaction if required, using the <code>notifyEmailRequired</code> field.</p><p>Merchant notifications require you to provide an email address; if no email address is provided, using the Merchant Management System (MMS) or the <code>notifyEmail</code> field, then no notification will be sent.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="request-fields-4">Request Fields<a class="hash-link" href="#request-fields-4" title="Direct link to heading">​</a></h3><table><thead><tr><th>Name</th><th>Mandatory</th><th>Description</th></tr></thead><tbody><tr><td>customerReceiptsRequired</td><td>No</td><td>Send a Customer receipt if possible.<br><br> Possible values are:<br> N – Don’t send a receipt.<br> Y – Send if Customer’s email provided.<br><br>Overrides any Merchant Account setting configured via the Merchant Management System (MMS).</td></tr><tr><td>customerEmail</td><td>No</td><td>Customer’s email address.</td></tr><tr><td>notifyEmailRequired</td><td>No</td><td>Send a notification email if possible.<br><br> Possible values are:<br> N – Don’t send a notification.<br> Y – Send if notification email provided.<br><br>Overrides any Merchant Account setting configured via the Merchant Management System (MMS).</td></tr><tr><td>notifyEmail</td><td>No</td><td>Merchant’s notification email address.<br><br>Overrides any Merchant Account setting configured via the Merchant Management System (MMS).</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="response-fields-3">Response Fields<a class="hash-link" href="#response-fields-3" title="Direct link to heading">​</a></h3><p>The request fields for the required receipts and notifications are returned together with the appropriate fields from the following:</p><table><thead><tr><th>Name</th><th>Returned</th><th>Description</th></tr></thead><tbody><tr><td>customerReceiptsResponseCode</td><td>If required</td><td>Result of sending email to Customer. Refer to <a href="/batchintegration/annexes#responseCodes">Response Codes</a> for more details.</td></tr><tr><td>customerReceiptsResponseMessage</td><td>If required</td><td>Description of above response code.</td></tr><tr><td>notifyEmailResponseCode</td><td>If required</td><td>Result of sending email to Merchant. Refer to <a href="/batchintegration/annexes#responseCodes">Response Codes</a> for more details.</td></tr><tr><td>notifyEmailResponseMessage</td><td>If required</td><td>Description of above response code.</td></tr></tbody></table></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/batchintegration/credentialsonfile"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Credentials on file &amp; Recurring Transactions</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/batchintegration/advanceddata"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Extra Transaction Data</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#avscv2-checking" class="table-of-contents__link toc-highlight">AVS/CV2 Checking</a><ul><li><a href="#request-fields" class="table-of-contents__link toc-highlight">Request Fields</a></li><li><a href="#response-fields" class="table-of-contents__link toc-highlight">Response Fields</a></li></ul></li><li><a href="#risk-checking" class="table-of-contents__link toc-highlight">Risk Checking</a><ul><li><a href="#implementation" class="table-of-contents__link toc-highlight">Implementation</a></li><li><a href="#riskCheckRequestFields" class="table-of-contents__link toc-highlight">Request Fields</a></li><li><a href="#response-fields-1" class="table-of-contents__link toc-highlight">Response Fields</a></li></ul></li><li><a href="#payment-facilitators" class="table-of-contents__link toc-highlight">Payment Facilitators</a><ul><li><a href="#request-fields-1" class="table-of-contents__link toc-highlight">Request Fields</a></li></ul></li><li><a href="#financial-institutions-merchants" class="table-of-contents__link toc-highlight">Financial Institutions Merchants</a><ul><li><a href="#request-fields-2" class="table-of-contents__link toc-highlight">Request Fields</a></li></ul></li><li><a href="#billing-descriptor" class="table-of-contents__link toc-highlight">Billing Descriptor</a><ul><li><a href="#static-descriptor" class="table-of-contents__link toc-highlight">Static Descriptor</a></li><li><a href="#dynamicDescriptor" class="table-of-contents__link toc-highlight">Dynamic Descriptor</a></li></ul></li><li><a href="#surcharges" class="table-of-contents__link toc-highlight">Surcharges</a><ul><li><a href="#surchargeRules" class="table-of-contents__link toc-highlight">Surcharge Rules</a></li><li><a href="#surcharge-amounts" class="table-of-contents__link toc-highlight">Surcharge Amounts</a></li><li><a href="#surchargeRequestFields" class="table-of-contents__link toc-highlight">Request Fields</a></li><li><a href="#response-fields-2" class="table-of-contents__link toc-highlight">Response Fields</a></li></ul></li><li><a href="#receipts-and-notifications" class="table-of-contents__link toc-highlight">Receipts and Notifications</a><ul><li><a href="#customer-email-receipts" class="table-of-contents__link toc-highlight">Customer Email Receipts</a></li><li><a href="#merchant-email-notifications" class="table-of-contents__link toc-highlight">Merchant Email Notifications</a></li><li><a href="#request-fields-4" class="table-of-contents__link toc-highlight">Request Fields</a></li><li><a href="#response-fields-3" class="table-of-contents__link toc-highlight">Response Fields</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://developer.handpoint.com/cpdocs/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">In-Person Payments Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/cnpdocs/index.html">Online Payments Docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://handpoint.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Handpoint Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/handpoint" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/handpointltd?lang=en" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Get our Apps</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://play.google.com/store/apps/details?id=com.handpoint.hipos&amp;hl=en&amp;gl=US&amp;pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1" target="_blank" rel="noopener noreferrer" class="footer__link-item">Get it on Google Play<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://apps.apple.com/us/app/handpoint/id1450546788?itsct=apps_box_link&amp;itscg=30200" target="_blank" rel="noopener noreferrer" class="footer__link-item">Download on the App Store<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://status.handpoint.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Handpoint Status Page<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://handpoint.atlassian.net/wiki/spaces/PD/overview?homepageId=5898250" target="_blank" rel="noopener noreferrer" class="footer__link-item">FAQ<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://handpoint.us6.list-manage.com/subscribe?u=4d9dff9e7edb7e57a67a7b252&amp;id=0a2179241e" target="_blank" rel="noopener noreferrer" class="footer__link-item">Subscribe to the Handpoint Newsletter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/handpoint" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://www.handpoint.com" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="https://handpoint.imgix.net/handpoint-logo-w.png?w=150" alt="Handpoint Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="https://handpoint.imgix.net/handpoint-logo-w.png?w=150" alt="Handpoint Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">Copyright © 2023 Handpoint</div></div></div></footer></div>
<script src="/assets/js/runtime~main.b5aff28d.js"></script>
<script src="/assets/js/main.4cacc470.js"></script>
</body>
</html>