<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-hostedpaymentfields docs-doc-id-transactiontypes">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Transaction Types | Handpoint</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://developer-ecomm.handpoint.io/hostedpaymentfields/transactiontypes"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-hostedpaymentfields-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-hostedpaymentfields-current"><meta data-rh="true" property="og:title" content="Transaction Types | Handpoint"><meta data-rh="true" name="description" content="Financial Operations Types"><meta data-rh="true" property="og:description" content="Financial Operations Types"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://developer-ecomm.handpoint.io/hostedpaymentfields/transactiontypes"><link data-rh="true" rel="alternate" href="https://developer-ecomm.handpoint.io/hostedpaymentfields/transactiontypes" hreflang="en"><link data-rh="true" rel="alternate" href="https://developer-ecomm.handpoint.io/hostedpaymentfields/transactiontypes" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RNDFP191TE"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RNDFP191TE",{anonymize_ip:!0})</script>









<script src="https:////js-eu1.hs-scripts.com/25846579.js"></script><link rel="stylesheet" href="/assets/css/styles.423f145a.css">
<link rel="preload" href="/assets/js/runtime~main.24b336bb.js" as="script">
<link rel="preload" href="/assets/js/main.9ad102f5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://developer.handpoint.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/handpoint-logo-hvitt.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA" width="75"><img src="/img/handpoint-logo-hvitt.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU" width="75"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/cnpdocs">Getting Started</a><a class="navbar__item navbar__link" href="/docs/overview">Hosted Payment Page</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/hostedpaymentfields/overview">Hosted Payment Fields</a><a class="navbar__item navbar__link" href="/directintegration/overview">Direct Integration</a><a class="navbar__item navbar__link" href="/batchintegration/overview">Batch Integration</a><a class="navbar__item navbar__link" href="/paybutton/basicpaybutton">Pay By Link</a><a class="navbar__item navbar__link" href="/shoppingcarts/shoppingcarts">Shopping Carts</a><a class="navbar__item navbar__link" href="/mobilesdks/mobilesdks">Mobile SDKs</a></div><div class="navbar__items navbar__items--right"><a href="https://status.handpoint.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-statuspage-icon" aria-label="Status Page"></a><a href="https://github.com/handpoint" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/hostedpaymentfields/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/hostedpaymentfields/samplecode">Sample Code &amp; Examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/hostedpaymentfields/transactiontypes">Transaction Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/hostedpaymentfields/3dsecure">3D Secure &amp; Strong Customer Authentication (SCA)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/hostedpaymentfields/credentialsonfile">Credentials on file &amp; Recurring Transactions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/hostedpaymentfields/digitalwalletsandapms">Digital Wallets and Alternative Payment Methods</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/hostedpaymentfields/advancedfunctionalities">Advanced Gateway Functionalities</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/hostedpaymentfields/advanceddata">Extra Transaction Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/hostedpaymentfields/annexes">Annexes</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Transaction Types</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Transaction Types</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="financial-operations-types">Financial Operations Types<a class="hash-link" href="#financial-operations-types" title="Direct link to heading">​</a></h2><p>The Gateway supports card not present (CNP) types of transactions, made where the Cardholder does not or cannot physically present the card for your visual examination at the time that an order is placed and payment effected.</p><p>The type of transaction required is specified using the <code>type</code> request field when performing a new payment transaction.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ecommerce">E-Commerce (ECOM)<a class="hash-link" href="#ecommerce" title="Direct link to heading">​</a></h3><p>E-commerce transactions are supported by the Gateway by using a transaction <code>type</code> of <code>1</code>. They are designed for you to accept payments via a website, such as a shopping cart payment. E-commerce transactions in the EU region MUST use advance fraud detection, such as 3-D Secure V2.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="moto">Mail Order/Telephone Order (MOTO)<a class="hash-link" href="#moto" title="Direct link to heading">​</a></h3><p>Mail Order/Telephone Order transactions are supported by the Gateway by using a transaction <code>type</code> of <code>2</code>. They are designed for you to build your own virtual terminal system to enter remote order details. MOTO transactions cannot use 3-D Secure as the cardholder is not able to perform the challenge.</p><p>Your Acquirer may need to enable MOTO capabilities on your main acquiring account, or they provide a separate acquiring account which will be available through its own Gateway Merchant Account.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="continuousAuthority">Continuous Authority (CA)<a class="hash-link" href="#continuousAuthority" title="Direct link to heading">​</a></h3><p>Continuous Authority transactions are supported by the Gateway by using a transaction <code>type</code> of <code>9</code>. They are designed for you to make subscription transactions. </p><p>The following transaction types are considered as Continuous Authority (CA) Payments :</p><ul><li><p>Instalment Payments: A transaction in a series of transactions that use a stored credential and that represent Consumer agreement for the merchant to initiate one or more future transactions over a period for a single purchase of goods or services. An example of such a transaction is a higher purchase repayment.</p></li><li><p>Recurring Payments: A transaction in a series of transactions that use a stored credential and that are processed at fixed, regular intervals (not to exceed one year between transactions), representing Consumer agreement for the merchant to initiate future transactions for the purchase of goods or services provided at regular intervals. An example of such a transaction is a gym membership subscription.</p></li></ul><p>Your Acquirer may need to enable Continuous Authority capabilities on your main acquiring account, or they provide a separate acquiring account which will be available through its own Gateway Merchant Account.</p><p>The Gateway offers a mean of automating the taking of regular CA transactions using <a href="/hostedpaymentfields/credentialsonfile#recurringtransactionagreements">Recurring Transaction Agreements (RTA)</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-choose-between-moto-ecom-or-ca">How do I choose between MOTO, ECOM or CA?<a class="hash-link" href="#how-do-i-choose-between-moto-ecom-or-ca" title="Direct link to heading">​</a></h3><p>If you are building a website <strong>facing the cardholder</strong>, for example a webshop to sell clothes, attraction tickets, pizzas etc. you should use ECOM (1) as <code>type</code> and if you are in the EU region, 3D-Secure must be used as well. If you are building a backend or a website <strong>for the merchant</strong> to be able to process card not present transactions, for example orders received over the phone, where the cardholder will dictate the card number to the merchant, then in this case you should use MOTO (2) as a <code>type</code> and the cardholder will be exempt from using 3D-Secure. MOTO (2) should also be used for merchant initiated refunds, for example if a customer calls and wants to get reimbursed for a product. If you are storing cards on file (COF) for recurring payments or a one-off payment you should refer to the <a href="/hostedpaymentfields/credentialsonfile#credentialsOnFileMatrix">credentials on file Matrix</a> to understand if you should use ECOM (1), MOTO (2) or Continuous Authority (9). </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="financial-operations-actions">Financial Operations Actions<a class="hash-link" href="#financial-operations-actions" title="Direct link to heading">​</a></h2><p>All requests must specify what action they require the Gateway to perform, using the <code>action</code> request field. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sale">SALE<a class="hash-link" href="#sale" title="Direct link to heading">​</a></h3><p>This will create a new transaction and attempt to seek authorisation for a sale from the Acquirer. A successful authorisation will reserve the funds on the Cardholder’s account until the transaction is settled.</p><p>The <code>captureDelay</code> field can be used to state whether the transaction should be authorised only and settled at a later date. **For more details on delayed capture, refer to the <a href="/hostedpaymentfields/annexes#captureDelay">delayed capture guide</a>. If <code>captureDelay</code> is not used the transaction will be automatically settled at the end of the day.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="verify">VERIFY<a class="hash-link" href="#verify" title="Direct link to heading">​</a></h3><p>This will create a new transaction and attempt to verify that the card account exists with the Acquirer. The transaction will result in no transfer of funds and no hold on any funds on the Cardholder’s account. It cannot be captured and will not be settled. The transaction <code>amount</code> must always be zero.</p><p>This transaction type is the preferred method for validating that the card account exists and is in good standing; however, it cannot be used to validate that it has sufficient funds.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="preauth">PREAUTH<a class="hash-link" href="#preauth" title="Direct link to heading">​</a></h3><p>This will create a new transaction and attempt to seek authorisation for a sale from the Acquirer. If authorisation is approved, then it is immediately voided (where possible) so that no funds are reserved on the Cardholder’s account. The transaction will result in no transfer of funds. It cannot be captured and will not be settled.</p><p>This transaction type can be used to check whether funds are available and that the account is valid. However, due to the problem highlighted below, it is recommended that Merchants use the VERIFY action when supported by their Acquirer.</p><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>If the transaction is to be completed then a new authorisation must be sought using the SALE action. If the PREAUTH authorisation could not be successfully voided, then this will result in the funds’ being authorised twice effectively putting two holds on the amount on the Cardholder’s account and thus requiring twice the amount to be available in the Cardholder’s account. It is therefore recommended only to PREAUTH small amounts, such as £1.00 to check mainly account validity.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="refund_sale">REFUND_SALE<a class="hash-link" href="#refund_sale" title="Direct link to heading">​</a></h3><p>This will create a new transaction and attempt to seek authorisation for a refund of a previous SALE from the Acquirer. The transaction will then be captured and settled if and when appropriate. It can only be performed on transactions that have been successfully settled. Up until that point, a CANCEL or partial CAPTURE can be used, to refund or partially refund the original SALE transaction. The previous SALE transaction should be specified using the <code>xref</code> field. This may take up to 180 days from the date of the original sale, however different Card Schemes and Acquirers may set shorter time periods.</p><p>Partial refunds are allowed by specifying the amount to refund. Any amount must not be greater than the original received amount minus any already refunded amount. Multiple partial refunds may be made while there is still a portion of the originally received amount un-refunded.</p><p>The <code>captureDelay</code> field can be used to state whether the transaction should be authorised only and settled at a later date. **For more details on delayed capture, refer to the <a href="/hostedpaymentfields/annexes#captureDelay">delayed capture guide</a>. If <code>captureDelay</code> is not used the transaction will be automatically settled at the end of the day.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="refund">REFUND<a class="hash-link" href="#refund" title="Direct link to heading">​</a></h3><p>This will create a new transaction and attempt to seek authorisation for a refund from the Acquirer. The transaction will then be captured and settled if and when appropriate. This is an independent refund and need not be related to any previous SALE. The amount is therefore not limited by any original received amount.</p><p>The <code>captureDelay</code> field can be used to state whether the transaction should be authorised only and settled at a later date. **For more details on delayed capture, refer to the <a href="/hostedpaymentfields/annexes#captureDelay">delayed capture guide</a>. If <code>captureDelay</code> is not used the transaction will be automatically settled at the end of the day.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="transactionRequest">Transaction Request<a class="hash-link" href="#transactionRequest" title="Direct link to heading">​</a></h3><table><thead><tr><th>Name</th><th>Mandatory</th><th>Description</th></tr></thead><tbody><tr><td>merchantID</td><td><span class="badge badge--primary">Yes</span></td><td>Your Gateway Merchant Account ID.</td></tr><tr><td>merchantPwd</td><td>No</td><td>Any password used for an added security layer</td></tr><tr><td>signature</td><td><span class="badge badge--primary">Yes</span></td><td>Hash used to sign this request. See <a href="/hostedpaymentfields/samplecode#signatureCalculation">signature calculation</a> for information on how to create the hash. A signature maybe mandatory on some Merchant Accounts and requests.</td></tr><tr><td>action</td><td><span class="badge badge--primary">Yes</span></td><td>Possible values are: PREAUTH, VERIFY, SALE, REFUND, REFUND_SALE.<br><br> If a REFUND_SALE action is used, then the request must not attempt to change the payment details, or it will fail with a responseCode of 65542 (REQUEST MISMATCH) because the refund must be made to the original card.</td></tr><tr><td>amount</td><td><span class="badge badge--primary">Yes</span></td><td>The amount of the transaction. Either major currency units by providing a value that includes a single decimal point such as ’10.99’; or in minor currency units by providing a value that contains no decimal points such as ‘1099’. <br><br> <strong>Optional</strong> if an <code>xref</code> is provided as the value will be taken from the cross-referenced transaction.</td></tr><tr><td>Type</td><td><span class="badge badge--primary">Yes</span></td><td>The type of transaction. Possible values are: <br> 1 – <a href="#ecommerce">E-commerce (ECOM)</a><br> 2 -  <a href="#moto">Mail Order/Telephone Order (MOTO)</a><br> 9 – <a href="#continuousAuthority">Continuous Authority (CA)</a> <br><br> <strong>Optional</strong> if an <code>xref</code> is provided as the value will be taken from the cross-referenced transaction.</td></tr><tr><td>countryCode</td><td><span class="badge badge--primary">Yes</span></td><td>Merchant&#x27;s location. Either the ISO-3166-1 2-letter, 3-letter or 3-digit code. <br><br> <strong>Optional</strong> if an <code>xref</code> is provided as the value will be taken from the cross-referenced transaction.</td></tr><tr><td>currencyCode</td><td><span class="badge badge--primary">Yes</span></td><td>Transaction currency. Either the ISO-4217 3-letter or 3-digit code.<br><br> <strong>Optional</strong> if an <code>xref</code> is provided as the value will be taken from the cross-referenced transaction.</td></tr><tr><td>paymentMethod</td><td>No</td><td>The payment method required. For card payments either omit this field or use the value <code>card</code>.</td></tr><tr><td>cardNumber</td><td>No</td><td>The primary account number (PAN) as printed on the front of the payment card. Digits and spaces only. <br><br><strong>Optional</strong> if an <code>xref</code> is provided as the value will be taken from the cross-referenced transaction. <br><br><strong>For hosted payment fields integrations, the card number is contained in the token representing sensitive card data.</strong></td></tr><tr><td>cardExpiryMonth</td><td>No</td><td>Payment card’s expiry month from 1 to 12.<br><br> <strong>Optional</strong> if an <code>xref</code> is provided as the value will be taken from the cross-referenced transaction.<br><br><strong>For hosted payment fields integrations, the card expiry month is contained in the token representing sensitive card data.</strong></td></tr><tr><td>cardExpiryYear</td><td>No</td><td>Payment card’s expiry year from 00 to 99. <br><br><strong>Optional</strong> if an <code>xref</code> is provided as the value will be taken from the cross-referenced transaction.<br><br><strong>For hosted payment fields integrations, the card expiry year is contained in the token representing sensitive card data.</strong></td></tr><tr><td>cardExpiryDate</td><td>No</td><td>Payment card’s expiry date in MMYY format as an alternative to sending a separate <code>cardExpiryMonth</code> and <code>cardExpiryYear</code>.<br><br> <strong>Optional</strong> if an <code>xref</code> is provided as the value will be taken from the cross-referenced transaction.</td></tr><tr><td>cardCVV</td><td>No</td><td>Payment card’s security number. The 3-digit number printed on the signature strip.<br><br> <strong>Optional</strong> if an <code>xref</code> is provided as the value will be taken from the cross-referenced transaction.<br><br><strong>For hosted payment fields integrations, the card cvv is contained in the token representing sensitive card data.</strong></td></tr><tr><td>transactionUnique</td><td>No</td><td>You can supply a unique identifier for this transaction. This is an added security feature to combat transaction spoofing.<br><br> <strong>Optional</strong> if an <code>xref</code> is provided as the value will be taken from the cross-referenced transaction.</td></tr><tr><td>orderRef</td><td>No</td><td>Free format text field to store order details, reference numbers, etc. for the Merchant’s records.<br><br> <strong>Optional</strong> if an <code>xref</code> is provided as the value will be taken from the cross-referenced transaction.</td></tr><tr><td>orderDate</td><td>No</td><td>Optional date to record with the transaction.</td></tr><tr><td>captureDelay</td><td>No</td><td>Number of days to wait between authorisation of a payment and subsequent settlement. refer to the <a href="/hostedpaymentfields/annexes#captureDelay">delayed capture</a> guide.</td></tr><tr><td>xref</td><td>No</td><td>Reference to a previous transaction. refer to <a href="/hostedpaymentfields/credentialsonfile#paymentTokenisation">payment tokenisation</a> <br> <br><strong>Mandatory</strong> for a REFUND_SALE request to specify the original SALE transaction.</td></tr><tr><td>redirectURL</td><td>No</td><td>URL to which the hosted form will redirect the Customer’s browser after the transaction has been completed. The URL must be fully qualified and include at least the scheme and host components. Refer to the <a href="/hostedpaymentfields/overview#redirectUrl">redirect URL</a> docs for details.</td></tr><tr><td>callbackURL</td><td>No</td><td>URL which will receive a copy of the transaction result by POST. The URL must be fully qualified and include at least the scheme and host components. Refer to the <a href="/hostedpaymentfields/overview#callbackUrl">callback URL</a> docs for details.</td></tr><tr><td>remoteAdress</td><td>No</td><td>IP address of client making the transaction. This should be provided where possible to aid fraud prevention.</td></tr><tr><td>rtAgreementType</td><td>No</td><td>Agreement between Merchant and Cardholder for the storage of, or subsequent use of, payment details. refer to the <a href="/hostedpaymentfields/credentialsonfile">Credentials on File</a> section. <br><br> <strong>Mandatory</strong> for recurring transactions or other transactions using stored credentials.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="transactionResponse">Transaction Response<a class="hash-link" href="#transactionResponse" title="Direct link to heading">​</a></h3><p>The response will contain all the fields sent in the request (minus any <code>cardNumber</code> and <code>cardCVV</code>) plus the following:</p><table><thead><tr><th>Name</th><th>Returned</th><th>Description</th></tr></thead><tbody><tr><td>responseCode</td><td>Always</td><td>A numeric code providing the specific outcome. Common values are:<br>  0 - Successful / authorised transaction. <br> 1 - Card referred – Refer to card issuer.<br>  2 - Card referred – Special condition. <br> 4 - Card declined – Keep card. <br> 5 - Card declined.<br>  Check <code>responseMessage</code> for more details of any error that occurred. Refer to <a href="/hostedpaymentfields/annexes#responseCodes">Response Codes</a> for details.</td></tr><tr><td>responseStatus</td><td>Always</td><td>A numeric code providing the outcome category. Possible values are:<br> 0 – Authorisation Approved / No reason to decline <br> 1 – Authorisation Declined. <br> 2 – Authorisation Error / Transaction malformed.</td></tr><tr><td>responseMessage</td><td>Always</td><td>Message received from the Acquiring bank, or any error message.</td></tr><tr><td>transactionID</td><td>Always</td><td>A unique ID assigned by the Gateway.</td></tr><tr><td>xref</td><td>Always</td><td>You may store the cross reference for repeat transactions. Refer to <a href="/hostedpaymentfields/credentialsonfile#paymentTokenisation">payment tokenisation</a>.</td></tr><tr><td>state</td><td>Always</td><td><a href="/hostedpaymentfields/annexes#transactionStates">Transaction state</a>.</td></tr><tr><td>timestamp</td><td>Always</td><td>Time the transaction was created or last modified.</td></tr><tr><td>transactionUnique</td><td>If supplied</td><td>Any value supplied in the initial request.</td></tr><tr><td>authorisationCode</td><td>On success</td><td>Authorisation code received from Acquirer.</td></tr><tr><td>referralPhone</td><td>If provided</td><td>Telephone number supplied by Acquirer to phone for voice authorisation when provided.</td></tr><tr><td>amountReceived</td><td>On success</td><td>Amount the Acquirer authorised. This should always be the full <code>amount</code> requested.</td></tr><tr><td>amountRefunded</td><td>If refund</td><td>Total amount of original SALE that has so far been refunded. Returned when action is REFUND_SALE.</td></tr><tr><td>orderRef</td><td>If supplied</td><td>Any value supplied in the initial request.</td></tr><tr><td>cardNumberMask</td><td>Always</td><td>Card number masked for Merchant storage.</td></tr><tr><td>cardTypeCode</td><td>Always</td><td>Code identifying the type of card used. Refer to the <a href="/hostedpaymentfields/annexes#cardIdentification">Card Identification</a> guide.</td></tr><tr><td>cardType</td><td>Always</td><td>Description of the type of card used. Refer to the <a href="/hostedpaymentfields/annexes#cardIdentification">Card Identification</a> guide.</td></tr><tr><td>cardSchemeCode</td><td>Always</td><td>Code identifying the Card Scheme used. Refer to the <a href="/hostedpaymentfields/annexes#cardIdentification">Card Identification</a> guide.</td></tr><tr><td>cardScheme</td><td>Always</td><td>Description of the Card Scheme used. Refer to the <a href="/hostedpaymentfields/annexes#cardIdentification">Card Identification</a> guide.</td></tr><tr><td>cardIssuer</td><td>Always</td><td>Card Issuer name (when known).</td></tr><tr><td>cardIssuerCountry</td><td>Always</td><td>Card issuing country’s name (when known).</td></tr><tr><td>cardIssuerCountryCode</td><td>Always</td><td>Card issuing country’s ISO-3166 2-letter code (when known).</td></tr></tbody></table><p>Undocumented fields may be returned at the Gateways discretion but should not be relied upon.
The acquirerResponseXXXX fields are dependent on the Acquirer in use and are supplied for additional information only.
The response is also POSTed to any URL provided by optional callbackURL.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="managementOperations">Management Operations<a class="hash-link" href="#managementOperations" title="Direct link to heading">​</a></h2><p>You can perform a management action on an existing transaction, such as a capture or cancellation, by sending a request with the required action together with the cross reference for the transaction to act on.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="capture">CAPTURE<a class="hash-link" href="#capture" title="Direct link to heading">​</a></h3><p>This will capture an existing transaction, identified using the <code>xref</code> request field, making it available for settlement at the next available opportunity. It can only be performed on transactions that have been authorised but not yet captured. An <code>amount</code> to capture may be specified but must not exceed the original amount authorised. This may take up to 30 days from the date of authorisation, however different Card Schemes and Acquirers may set shorter time periods.</p><p>The original transaction must have been submitted with a captureDelay value that prevented immediate capture and settlement leaving the transaction in an authorised but un-captured state. **For more details on delayed capture, refer to the <a href="/hostedpaymentfields/annexes#captureDelay">delayed capture guide</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cancel">CANCEL<a class="hash-link" href="#cancel" title="Direct link to heading">​</a></h3><p>This will cancel an existing transaction, identified using the <code>xref</code> request field, preventing it from being settled. It can only be performed on transactions, which have been authorised but not yet settled, and it is not reversible. Depending on the Acquirer it may not reverse the authorisation and release any reserved funds on the Cardholder’s account. In such cases authorisation will be left to expire as normal, releasing the reserved funds. This may take up to 30 days from the date of authorisation, however different Card Schemes and Acquirers may set shorter time periods.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="query">QUERY<a class="hash-link" href="#query" title="Direct link to heading">​</a></h3><p>This will query an existing transaction, identified using the <code>xref</code> request field, returning the original response. This is a simple transaction lookup action.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="transaction-request">Transaction Request<a class="hash-link" href="#transaction-request" title="Direct link to heading">​</a></h3><table><thead><tr><th>Name</th><th>Mandatory</th><th>Description</th></tr></thead><tbody><tr><td>merchantID</td><td><span class="badge badge--primary">Yes</span></td><td>Your Gateway Merchant Account ID.</td></tr><tr><td>merchantPwd</td><td>No</td><td>Any password used for an added security layer.</td></tr><tr><td>signature</td><td><span class="badge badge--primary">Yes</span></td><td>Hash used to sign this request. See <a href="/hostedpaymentfields/samplecode#signatureCalculation">signature calculation</a> for information on how to create the hash. A signature maybe mandatory on some Merchant Accounts and requests.</td></tr><tr><td>action</td><td><span class="badge badge--primary">Yes</span></td><td>Possible values are: AUTHORISE (PAYPAL, AMAZON PAY etc.), CAPTURE, CANCEL, QUERY</td></tr><tr><td>xref</td><td><span class="badge badge--primary">Yes</span></td><td>Reference to a previous transaction. refer to <a href="/hostedpaymentfields/credentialsonfile#paymentTokenisation">payment tokenisation</a>.</td></tr><tr><td>amount</td><td>No</td><td>The amount to capture or refund. <strong>Mandatory</strong> for partial refunds or partial captures.</td></tr><tr><td>callbackURL</td><td>No</td><td>URL which will receive a copy of the transaction result by POST. The URL must be fully qualified and include at least the scheme and host components. Refer to the <a href="/hostedpaymentfields/overview#callbackUrl">callback URL</a> docs for details.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="transaction-response">Transaction Response<a class="hash-link" href="#transaction-response" title="Direct link to heading">​</a></h3><p>Apart from the fields below, the response will be the same as for a regular financial operation and will contain the details of the existing transaction.</p><table><thead><tr><th>Name</th><th>Returned</th><th>Description</th></tr></thead><tbody><tr><td>responseCode</td><td>Always</td><td>A numeric code providing the specific outcome. Check <code>responseMessage</code> for more details of any error that occurred. Refer to <a href="/hostedpaymentfields/annexes#responseCodes">Response Codes</a> for details.</td></tr><tr><td>responseStatus</td><td>Always</td><td>A numeric code providing the outcome category. Possible values are:<br> 0 – Authorisation Approved / No reason to decline <br> 1 – Authorisation Declined. <br> 2 – Authorisation Error / Transaction malformed.</td></tr><tr><td>responseMessage</td><td>Always</td><td>Description of the above response code.</td></tr><tr><td>action</td><td>Always</td><td>The requested action and original action separated by a colon. For example, CANCEL:SALE</td></tr></tbody></table><p>Undocumented fields may be returned at the Gateways discretion but should not be relied upon.
The response is also POSTed to any URL provided by optional <code>callbackURL</code>.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/hostedpaymentfields/samplecode"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Sample Code &amp; Examples</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/hostedpaymentfields/3dsecure"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">3D Secure &amp; Strong Customer Authentication (SCA)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#financial-operations-types" class="table-of-contents__link toc-highlight">Financial Operations Types</a><ul><li><a href="#ecommerce" class="table-of-contents__link toc-highlight">E-Commerce (ECOM)</a></li><li><a href="#moto" class="table-of-contents__link toc-highlight">Mail Order/Telephone Order (MOTO)</a></li><li><a href="#continuousAuthority" class="table-of-contents__link toc-highlight">Continuous Authority (CA)</a></li><li><a href="#how-do-i-choose-between-moto-ecom-or-ca" class="table-of-contents__link toc-highlight">How do I choose between MOTO, ECOM or CA?</a></li></ul></li><li><a href="#financial-operations-actions" class="table-of-contents__link toc-highlight">Financial Operations Actions</a><ul><li><a href="#sale" class="table-of-contents__link toc-highlight">SALE</a></li><li><a href="#verify" class="table-of-contents__link toc-highlight">VERIFY</a></li><li><a href="#preauth" class="table-of-contents__link toc-highlight">PREAUTH</a></li><li><a href="#refund_sale" class="table-of-contents__link toc-highlight">REFUND_SALE</a></li><li><a href="#refund" class="table-of-contents__link toc-highlight">REFUND</a></li><li><a href="#transactionRequest" class="table-of-contents__link toc-highlight">Transaction Request</a></li><li><a href="#transactionResponse" class="table-of-contents__link toc-highlight">Transaction Response</a></li></ul></li><li><a href="#managementOperations" class="table-of-contents__link toc-highlight">Management Operations</a><ul><li><a href="#capture" class="table-of-contents__link toc-highlight">CAPTURE</a></li><li><a href="#cancel" class="table-of-contents__link toc-highlight">CANCEL</a></li><li><a href="#query" class="table-of-contents__link toc-highlight">QUERY</a></li><li><a href="#transaction-request" class="table-of-contents__link toc-highlight">Transaction Request</a></li><li><a href="#transaction-response" class="table-of-contents__link toc-highlight">Transaction Response</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://developer.handpoint.com/cpdocs/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">In-Person Payments Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/cnpdocs/index.html">Online Payments Docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://handpoint.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Handpoint Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/handpoint" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/handpointltd?lang=en" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Get our Apps</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://play.google.com/store/apps/details?id=com.handpoint.hipos&amp;hl=en&amp;gl=US&amp;pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1" target="_blank" rel="noopener noreferrer" class="footer__link-item">Get it on Google Play<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://apps.apple.com/us/app/handpoint/id1450546788?itsct=apps_box_link&amp;itscg=30200" target="_blank" rel="noopener noreferrer" class="footer__link-item">Download on the App Store<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://status.handpoint.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Handpoint Status Page<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://handpoint.atlassian.net/wiki/spaces/PD/overview?homepageId=5898250" target="_blank" rel="noopener noreferrer" class="footer__link-item">FAQ<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://handpoint.us6.list-manage.com/subscribe?u=4d9dff9e7edb7e57a67a7b252&amp;id=0a2179241e" target="_blank" rel="noopener noreferrer" class="footer__link-item">Subscribe to the Handpoint Newsletter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/handpoint" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://www.handpoint.com" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="https://handpoint.imgix.net/handpoint-logo-w.png?w=150" alt="Handpoint Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="https://handpoint.imgix.net/handpoint-logo-w.png?w=150" alt="Handpoint Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">Copyright © 2022 Handpoint</div></div></div></footer></div>
<script src="/assets/js/runtime~main.24b336bb.js"></script>
<script src="/assets/js/main.9ad102f5.js"></script>
</body>
</html>